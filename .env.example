# FreeMobilaChat Environment Configuration Template
# Copy this file to .env.production and fill in your actual values

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Database type: sqlite or postgresql
DATABASE_TYPE=postgresql

# SQLite Configuration (for development/testing)
SQLITE_DATABASE_PATH=./data/freemobilachat.db

# PostgreSQL Configuration (recommended for production)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=freemobilachat_prod
POSTGRES_USER=mobilachat_user
POSTGRES_PASSWORD=your_secure_database_password_here

# Database connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your_secret_key_here_replace_with_actual_secure_key

# CORS settings - Add your frontend domains
CORS_ORIGINS=["http://localhost:3000","http://localhost:8501","https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE","OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# API Rate limiting
RATE_LIMIT_PER_MINUTE=60
MAX_CONCURRENT_REQUESTS=10

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================
# Default LLM provider: mistral, ollama, openai, anthropic
DEFAULT_LLM_PROVIDER=mistral

# Mistral AI Configuration
MISTRAL_API_KEY=your_mistral_api_key_here
MISTRAL_MODEL=mistral-large-latest
MISTRAL_MAX_TOKENS=4000
MISTRAL_TEMPERATURE=0.1

# Ollama Configuration (for local deployment)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b
OLLAMA_TIMEOUT=120

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.1

# Anthropic Configuration
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=4000
ANTHROPIC_TEMPERATURE=0.1

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Server configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_CONNECTIONS=1000
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
TIMEOUT=120
KEEPALIVE=5

# File upload settings
MAX_FILE_SIZE_MB=200
UPLOAD_DIR=./uploads
ALLOWED_FILE_EXTENSIONS=[".csv",".xlsx",".xls"]

# Data processing settings
DEFAULT_BATCH_SIZE=10
MAX_BATCH_SIZE=100
PROCESSING_TIMEOUT=300

# Cache settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================
# Logging configuration
LOG_FORMAT=json
LOG_FILE=./logs/freemobilachat.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# Metrics and monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# Sentry error tracking (optional)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# REDIS CONFIGURATION (Optional - for advanced caching)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20

# =============================================================================
# EMAIL CONFIGURATION (Optional - for notifications)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here
SMTP_USE_TLS=true
FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# BACKUP CONFIGURATION (Optional)
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_SWAGGER_UI=false
ENABLE_REDOC=false
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_ANALYTICS=true
ENABLE_RATE_LIMITING=true
ENABLE_CORS=true

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================
# These are used by docker-compose.yml
COMPOSE_PROJECT_NAME=freemobilachat
POSTGRES_VOLUME=freemobilachat_postgres_data
REDIS_VOLUME=freemobilachat_redis_data
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =============================================================================
# DEVELOPMENT SETTINGS (Only for development environment)
# =============================================================================
# Uncomment these for development
# ENVIRONMENT=development
# DEBUG=true
# LOG_LEVEL=DEBUG
# DATABASE_TYPE=sqlite
# ENABLE_SWAGGER_UI=true
# ENABLE_REDOC=true
# ENABLE_DEBUG_ENDPOINTS=true
# CORS_ORIGINS=["http://localhost:3000","http://localhost:8501","http://127.0.0.1:8501"]
