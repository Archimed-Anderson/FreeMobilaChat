# =============================================================================
# FREEMOBILACHAT - ENVIRONMENT CONFIGURATION TEMPLATE
# =============================================================================
#
# INSTRUCTIONS:
# 1. Copy this file to `.env` in the same directory (backend/.env)
# 2. Fill in your actual values (replace placeholders like "your_*_here")
# 3. NEVER commit the `.env` file to version control (it's in .gitignore)
# 4. For development, use Ollama (free, local) - see OLLAMA CONFIGURATION below
# 5. For production, use a cloud provider (Mistral, Anthropic, or OpenAI)
#
# QUICK START (Development with Ollama):
# 1. Install Ollama: https://ollama.ai/
# 2. Pull a model: ollama pull phi3:mini
# 3. Copy this file: cp .env.example .env
# 4. Set LLM_PROVIDER=ollama in your .env
# 5. Start the server: cd backend && uvicorn app.main:app --reload
#
# =============================================================================

# =============================================================================
# LLM API CONFIGURATION
# =============================================================================

# Default LLM Provider
# Options: ollama (local, free), mistral (cloud), anthropic (cloud), openai (cloud)
# Recommended for development: ollama
# Default: ollama
LLM_PROVIDER=ollama

# -----------------------------------------------------------------------------
# OLLAMA CONFIGURATION (Local LLM - Recommended for Development)
# -----------------------------------------------------------------------------
# Ollama is a free, local LLM service that runs on your machine
# Installation: https://ollama.ai/
# After installation, pull a model: ollama pull phi3:mini

# Ollama API base URL (local installation)
# Default: http://localhost:11434
OLLAMA_BASE_URL=http://localhost:11434

# Ollama model to use
# Recommended models:
#   - phi3:mini (fast, lightweight, good for development)
#   - llama3.1:8b (better quality, requires more resources)
#   - mistral:latest (good balance)
# Default: phi3:mini
OLLAMA_MODEL=phi3:mini

# Ollama temperature (0.0 = deterministic, 1.0 = creative)
# Lower values = more consistent results
# Default: 0.2
OLLAMA_TEMPERATURE=0.2

# Ollama max tokens per response
# Default: 400
OLLAMA_MAX_TOKENS=400

# -----------------------------------------------------------------------------
# MISTRAL AI CONFIGURATION (Cloud API)
# -----------------------------------------------------------------------------
# Mistral AI API key (get from https://console.mistral.ai/)
# Required if LLM_PROVIDER=mistral
MISTRAL_API_KEY=your_mistral_api_key_here

# Mistral model to use
# Options: mistral-tiny, mistral-small, mistral-medium, mistral-large
# Default: mistral-small
MISTRAL_MODEL=mistral-small

# Mistral max tokens per response
# Default: 300
MISTRAL_MAX_TOKENS=300

# -----------------------------------------------------------------------------
# ANTHROPIC CONFIGURATION (Claude API)
# -----------------------------------------------------------------------------
# Anthropic API key (get from https://console.anthropic.com/)
# Required if LLM_PROVIDER=anthropic
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Claude model to use
# Options: claude-3-haiku, claude-3-sonnet, claude-3-opus
# Default: claude-3-haiku
ANTHROPIC_MODEL=claude-3-haiku-20240307

# Anthropic max tokens per response
# Default: 300
ANTHROPIC_MAX_TOKENS=300

# -----------------------------------------------------------------------------
# OPENAI CONFIGURATION (GPT API)
# -----------------------------------------------------------------------------
# OpenAI API key (get from https://platform.openai.com/)
# Required if LLM_PROVIDER=openai
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI model to use
# Options: gpt-3.5-turbo, gpt-4, gpt-4o-mini
# Default: gpt-4o-mini
OPENAI_MODEL=gpt-4o-mini

# OpenAI max tokens per response
# Default: 300
OPENAI_MAX_TOKENS=300

# OpenAI temperature (0.0 = deterministic, 1.0 = creative)
# Default: 0.3
OPENAI_TEMPERATURE=0.3

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database Type (sqlite, postgresql)
DATABASE_TYPE=sqlite

# SQLite Configuration (Default for development)
# Path to the SQLite database file
# Default: ./data/freemobilachat.db
SQLITE_DATABASE_PATH=./data/freemobilachat.db

# PostgreSQL Configuration (Production)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=tweets_analysis
POSTGRES_USER=your_postgres_user
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_SSL_MODE=prefer

# Database URL (Auto-generated based on type, or set manually)
# DATABASE_URL=sqlite:///./data/tweets_analysis.db
# DATABASE_URL=postgresql://user:password@localhost:5432/tweets_analysis

# =============================================================================
# API RATE LIMITING & PERFORMANCE
# =============================================================================

# Rate Limiting
MAX_REQUESTS_PER_MINUTE=30
MAX_CONCURRENT_REQUESTS=5
BATCH_PROCESSING_DELAY=2
REQUEST_TIMEOUT_SECONDS=30

# Batch Processing
DEFAULT_BATCH_SIZE=10
MAX_TWEETS_PER_BATCH=500
MAX_TWEETS_PER_RUN=1000

# Retry Configuration
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_SECONDS=5
EXPONENTIAL_BACKOFF=true

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application Settings
APP_NAME=Tweet Analysis Platform
APP_VERSION=1.0.0
DEBUG_MODE=false
LOG_LEVEL=INFO

# Security
SECRET_KEY=your_secret_key_here_change_in_production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Settings
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8501
ALLOWED_METHODS=GET,POST,PUT,DELETE
ALLOWED_HEADERS=*

# =============================================================================
# FILE PROCESSING CONFIGURATION
# =============================================================================

# Data Directories
DATA_RAW_DIR=./data/raw
DATA_PROCESSED_DIR=./data/processed
DATA_SAMPLES_DIR=./data/samples
UPLOAD_DIR=./uploads

# CSV Processing
CSV_ENCODING=utf-8
CSV_DELIMITER=,
MIN_TWEET_LENGTH=10
MAX_TWEET_LENGTH=280

# File Upload Limits
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_EXTENSIONS=csv,xlsx

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_PATH=./logs/app.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Error Tracking (Optional)
SENTRY_DSN=your_sentry_dsn_here

# =============================================================================
# CACHE CONFIGURATION (Optional)
# =============================================================================

# Redis Configuration (Optional for caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
CACHE_TTL_SECONDS=3600

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development Settings
RELOAD_ON_CHANGE=true
ENABLE_DOCS=true
ENABLE_REDOC=true

# Testing
TEST_DATABASE_URL=sqlite:///./test_tweets.db
TEST_DATA_PATH=./tests/data/test_tweets.csv

# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4

# SSL/TLS (Production)
SSL_CERT_PATH=
SSL_KEY_PATH=

# Health Check
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Toggles
ENABLE_BATCH_PROCESSING=true
ENABLE_REAL_TIME_ANALYSIS=false
ENABLE_EXPORT_FEATURES=true
ENABLE_USER_AUTHENTICATION=false
ENABLE_RATE_LIMITING=true
ENABLE_FALLBACK_ANALYSIS=true

# Analytics
ENABLE_USAGE_ANALYTICS=false
ANALYTICS_ENDPOINT=

# =============================================================================
# COST MANAGEMENT
# =============================================================================

# Budget Controls
DAILY_BUDGET_USD=10.00
MONTHLY_BUDGET_USD=100.00
COST_ALERT_THRESHOLD=0.80

# Cost Tracking
TRACK_API_COSTS=true
COST_LOG_FILE=./logs/costs.log

# =============================================================================
# ACADEMIC/DEMO MODE
# =============================================================================

# Demo Configuration
DEMO_MODE=true
DEMO_MAX_TWEETS=500
DEMO_RATE_LIMIT=10
DEMO_DISABLE_COSTS=true

# Sample Data
USE_SAMPLE_DATA=false
SAMPLE_DATA_PATH=./data/samples/demo_tweets.csv
