# FreeMobilaChat Production Environment Configuration Template
# Copy this file to .env.production and configure the values for your production environment
# IMPORTANT: Never commit this file with real API keys to version control!

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=production
DEBUG_MODE=false
LOG_LEVEL=INFO
APP_NAME=FreeMobilaChat Tweet Analysis Platform
APP_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Use PostgreSQL for production (recommended)
DATABASE_TYPE=postgresql
POSTGRES_HOST=postgres
POSTGRES_PORT=5433
POSTGRES_DB=freemobilachat_prod
POSTGRES_USER=mobilachat_user
# IMPORTANT: Generate a strong password using: .\api_keys_setup.ps1 -GenerateSecrets
POSTGRES_PASSWORD=REPLACE_WITH_SECURE_PASSWORD_FROM_GENERATOR
POSTGRES_SSL_MODE=require

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# IMPORTANT: Generate a secure secret key using: .\api_keys_setup.ps1 -GenerateSecrets
SECRET_KEY=REPLACE_WITH_SECURE_SECRET_KEY_FROM_GENERATOR
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# CORS Settings - Update with your production domains
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
ALLOWED_HEADERS=*

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================
# Default LLM Provider (mistral, openai, anthropic, or ollama)
DEFAULT_LLM_PROVIDER=mistral

# Mistral AI Configuration (REQUIRED)
# Get your API key from: https://console.mistral.ai/
MISTRAL_API_KEY=REPLACE_WITH_YOUR_MISTRAL_API_KEY
MISTRAL_MODEL=mistral-small-latest
MISTRAL_MAX_TOKENS=400
MISTRAL_TEMPERATURE=0.2
MISTRAL_RATE_LIMIT=30
MISTRAL_BASE_URL=https://api.mistral.ai/v1

# OpenAI Configuration (OPTIONAL)
# Get your API key from: https://platform.openai.com/
OPENAI_API_KEY=REPLACE_WITH_YOUR_OPENAI_API_KEY_OR_LEAVE_EMPTY
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=400
OPENAI_TEMPERATURE=0.2
OPENAI_RATE_LIMIT=60

# Anthropic Configuration (OPTIONAL)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=REPLACE_WITH_YOUR_ANTHROPIC_API_KEY_OR_LEAVE_EMPTY
ANTHROPIC_MODEL=claude-3-haiku-20240307
ANTHROPIC_MAX_TOKENS=400
ANTHROPIC_TEMPERATURE=0.2
ANTHROPIC_RATE_LIMIT=50

# Ollama Configuration (OPTIONAL - for local deployment)
OLLAMA_API_KEY=
OLLAMA_MODEL=llama3.1:8b
OLLAMA_MAX_TOKENS=400
OLLAMA_TEMPERATURE=0.2
OLLAMA_RATE_LIMIT=20
OLLAMA_BASE_URL=http://localhost:11434

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
MAX_REQUESTS_PER_MINUTE=100
MAX_CONCURRENT_REQUESTS=10
BATCH_PROCESSING_DELAY=1.0
REQUEST_TIMEOUT_SECONDS=60
DEFAULT_BATCH_SIZE=20
MAX_TWEETS_PER_BATCH=100
MAX_TWEETS_PER_RUN=5000

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
DATA_RAW_DIR=./data/raw
DATA_PROCESSED_DIR=./data/processed
UPLOAD_DIR=./uploads

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# FastAPI Server
FASTAPI_HOST=0.0.0.0
FASTAPI_PORT=8000
FASTAPI_WORKERS=4
FASTAPI_RELOAD=false

# Streamlit Frontend
STREAMLIT_HOST=0.0.0.0
STREAMLIT_PORT=8501
STREAMLIT_SERVER_HEADLESS=true

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
# SSL Certificate paths (for HTTPS)
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem
SSL_ENABLED=true
FORCE_HTTPS=true

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Enable detailed logging for production monitoring
ENABLE_ACCESS_LOGS=true
ENABLE_ERROR_TRACKING=true
LOG_FILE_PATH=./logs/application.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# =============================================================================
# REDIS CONFIGURATION (Optional - for advanced caching)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6380
REDIS_PASSWORD=REPLACE_WITH_SECURE_REDIS_PASSWORD
REDIS_DB=0
REDIS_SSL=false

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7
BACKUP_STORAGE_PATH=./backups
BACKUP_ENCRYPTION_KEY=REPLACE_WITH_BACKUP_ENCRYPTION_KEY

# Cloud backup settings (optional)
# AWS S3 Configuration
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
AWS_S3_BUCKET=freemobilachat-backups
AWS_S3_REGION=us-east-1

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================
# Email alerts configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=REPLACE_WITH_SMTP_USERNAME
SMTP_PASSWORD=REPLACE_WITH_SMTP_PASSWORD
SMTP_USE_TLS=true
ALERT_FROM_EMAIL=alerts@yourdomain.com
ALERT_TO_EMAILS=admin@yourdomain.com,ops@yourdomain.com

# SMS alerts configuration (Twilio)
TWILIO_ACCOUNT_SID=REPLACE_WITH_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=REPLACE_WITH_TWILIO_AUTH_TOKEN
TWILIO_FROM_PHONE=+1234567890
ALERT_TO_PHONES=+1234567890,+0987654321

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# SCALING CONFIGURATION
# =============================================================================
# Backend scaling settings
BACKEND_REPLICAS=3
BACKEND_CPU_LIMIT=1.0
BACKEND_MEMORY_LIMIT=1Gi
BACKEND_CPU_REQUEST=0.5
BACKEND_MEMORY_REQUEST=512Mi

# Load balancer settings
LOAD_BALANCER_ALGORITHM=round_robin
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL_LB=10s
